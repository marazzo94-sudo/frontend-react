.toggle {
  position: relative;
  width: 60px;
  height: 30px;
  border: none;
  border-radius: 15px;
  padding: 0;
    background: linear-gradient(135deg, var(--toggle-dark-start) 0%, var(--toggle-dark-end) 100%);
  cursor: pointer;
  transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    box-shadow:
      inset 0 2px 6px var(--black-30),
      0 4px 12px var(--black-15),
      0 0 0 1px var(--white-10);
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 8px;
    width: 2px;
    height: 2px;
      background: var(--white-60);
    border-radius: 50%;
      box-shadow:
        4px 2px 0 var(--white-40),
        8px -1px 0 var(--white-30),
        12px 3px 0 var(--white-50);
    transform: translateY(-50%);
    transition: opacity 0.4s ease;
  }
}

.ball {
  position: absolute;
  top: 3px;
  left: 3px;
  width: 24px;
  height: 24px;
  border-radius: 50%;
    background: linear-gradient(135deg, var(--toggle-ball-dark-start) 0%, var(--toggle-ball-dark-end) 100%);
  transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    box-shadow:
      0 2px 8px var(--black-20),
      0 0 0 1px var(--white-10);
  
  &::before {
    content: '';
    position: absolute;
    width: 4px;
    height: 4px;
      background: var(--black-20);
    border-radius: 50%;
    top: 6px;
    left: 8px;
      box-shadow:
        6px 2px 0 -1px var(--black-15),
        -2px 8px 0 -1px var(--black-10),
        4px 12px 0 -2px var(--black-10);
    transition: all 0.4s ease;
  }

  &::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 30px;
    height: 30px;
    transform: translate(-50%, -50%) rotate(0deg);
      background:
        linear-gradient(0deg, transparent 40%, var(--yellow-80) 42%, var(--yellow-80) 58%, transparent 60%),
        linear-gradient(45deg, transparent 40%, var(--yellow-60) 42%, var(--yellow-60) 58%, transparent 60%),
        linear-gradient(90deg, transparent 40%, var(--yellow-80) 42%, var(--yellow-80) 58%, transparent 60%),
        linear-gradient(135deg, transparent 40%, var(--yellow-60) 42%, var(--yellow-60) 58%, transparent 60%);
    opacity: 0;
    transition: all 0.6s ease;
    z-index: -1;
  }
}

.dark {
    background: linear-gradient(135deg, var(--toggle-dark-start) 0%, var(--toggle-dark-end) 100%);
  
  &::before {
    opacity: 1;
  }

  .ball {
      background: linear-gradient(135deg, var(--toggle-ball-alt-start) 0%, var(--toggle-ball-alt-end) 100%);
    box-shadow:
      0 2px 8px var(--black-30),
      inset -2px -2px 4px var(--black-10),
      0 0 0 1px var(--white-10);

    &::before {
      opacity: 1;
    }

    &::after {
      opacity: 0;
      transform: translate(-50%, -50%) rotate(-90deg);
    }
  }
}

.light {
  background: linear-gradient(135deg, var(--toggle-light-start) 0%, var(--toggle-light-end) 100%);
  box-shadow:
      inset 0 2px 6px var(--amber-30),
      0 4px 12px var(--amber-20),
      0 0 0 1px var(--white-20);

  &::before {
    opacity: 0;
  }

  .ball {
    transform: translateX(33px) rotate(540deg);
      background: linear-gradient(135deg, var(--toggle-ball-light-start) 0%, var(--toggle-ball-light-end) 100%);
      box-shadow:
        0 0 15px var(--yellow-80),
        0 0 25px var(--yellow-40),
        0 2px 8px var(--black-10);

    &::before {
      opacity: 0;
      transform: scale(0);
    }

    &::after {
      opacity: 1;
      transform: translate(-50%, -50%) rotate(180deg);
    }
  }
}

.toggle:hover {
  transform: scale(1.05);
  
  .ball {
      box-shadow:
        0 4px 12px var(--black-20),
        0 0 20px var(--purple-30);
  }
}

.light:hover .ball {
    box-shadow:
      0 0 20px var(--color-accent-4),
      0 0 35px var(--yellow-60),
      0 4px 12px var(--black-10);
}

.toggle:active {
  transform: scale(0.95);
}